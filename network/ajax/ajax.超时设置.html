<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 学习参照地址  https://www.bilibili.com/video/BV1WC4y1b78y?p=1 -->
    <!-- 学习参照地址 https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/response -->
</head>
<body>
    <Button>发送ajax</Button>
    <div></div>
    <script>
        let button = document.querySelectorAll('button');
        let div = document.querySelector('div');
        button[0].onclick=function(){
            let xhr = new XMLHttpRequest();
            xhr.open('GET','http://192.168.125.19:8080/timeout');
            xhr.timeout = 2000;
             xhr.send();
            xhr.onreadystatechange = function(res){
                if(xhr.readyState === 4){
                    if(xhr.status >=200 && xhr.status <300){
                        console.log(xhr.response);
                        console.log(xhr.responseText); 
                        div.innerHTML =xhr.responseText ;
                    }
                    
                }
            }
            xhr.ontimeout=function(){
                console.log('超时了')
            }


            xhr.onloadend = function(res){
                console.log('onloadend:',res)
            }
            xhr.onloadstart= function(res){
                console.log('onloadstart:',res)
            }
        
        }

    </script>
</body>
</html>