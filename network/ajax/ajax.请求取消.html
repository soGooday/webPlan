<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 学习参照地址  https://www.bilibili.com/video/BV1WC4y1b78y?p=1 -->
    <!-- 学习参照地址 https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/response -->
</head>
<body>
    <Button>发送ajax</Button>
    <Button>取消ajax</Button>
    <div></div>
    <script>
        let button = document.querySelectorAll('button');
        let xhr = null;

        let div = document.querySelector('div');
        button[0].onclick=function(){
            xhr = new XMLHttpRequest();
            xhr.open('POST','http://192.168.125.19:8080/ie');
            xhr.send("{num:1}");
            xhr.onreadystatechange = function(res){
                if(xhr.readyState === 4){
                    if(xhr.status >=200 && xhr.status <300){
                        console.log(xhr.response);
                        console.log(xhr.responseText); 
                        div.innerHTML =xhr.responseText ;
                    }
                    
                }
            }
            xhr.onerror = function(){
                div.innerHTML = '取消请求';
            } 
        
        }
        button[1].onclick=function(){
            xhr.abort();
        }

    </script>
</body>
</html>