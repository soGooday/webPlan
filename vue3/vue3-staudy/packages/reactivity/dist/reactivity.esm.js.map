{
  "version": 3,
  "sources": ["../src/effect.ts", "../../shared/src/index.ts", "../src/baseHandler.ts", "../src/reactive.ts", "../src/computed.ts", "../src/watch.ts", "../src/ref.ts"],
  "sourcesContent": ["export let activeEffect;\r\n\r\n//\u6E05\u7406\u4F9D\u8D56\u7684\u6536\u96C6\r\nfunction clearUpEffect(effect) {\r\n  let { deps } = effect;\r\n  //\u5C06\u4F9D\u8D56\u83B7\u53D6\u5230\r\n  for (let index = 0; index < deps.length; index++) {\r\n    //\u6E05\u9664\u4F9D\u8D56\r\n    deps[index].delete(effect);\r\n  }\r\n  //\u6570\u7EC4\u957F\u5EA6\u5F520\r\n  effect.deps.length = 0;\r\n}\r\n\r\nexport class ReactiveEffect {\r\n  public fn;\r\n  public active = true; //\u662F\u5426\u6FC0\u6D3B\r\n  public deps = []; //\u65B9\u6CD5\u4E2D\u6709\u90A3\u4E9B\u4F9D\u8D56\u9879\r\n  public parent = undefined;\r\n  public scheduler = undefined;\r\n  constructor(fn, scheduler) {\r\n    this.fn = fn;\r\n    this.scheduler = scheduler;\r\n  }\r\n\r\n  run() {\r\n    //\u672A\u6FC0\u6D3B\u7684\u72B6\u6001\r\n    if (!this.active) {\r\n      return this.fn(); //\u76F4\u63A5\u6267\u884C\r\n    }\r\n\r\n    //\u5176\u4ED6\u610F\u5473\u7740\u662F\u6FC0\u6D3B\u7684\u72B6\u6001\r\n    try {\r\n      //tree\u6811 \u7236\u5B50\u5173\u7CFB\r\n      this.parent = activeEffect;\r\n      activeEffect = this;\r\n      //\u6E05\u9664\u4E4B\u524D\u7684\u4F9D\u8D56\u6536\u96C6\r\n      clearUpEffect(this);\r\n      return this.fn(); //\u6267\u884C\u65B9\u6CD5 \u5982\u679C\u6709\u4EE3\u7406\u5C31\u4F1A\u89E6\u53D1\u4EE3\u7406\r\n    } finally {\r\n      //\u65E0\u8BBA\u4EFB\u4F55\u60C5\u51B5\u90FD\u4F1A\u6267\u884C\r\n      activeEffect = this.parent;\r\n      this.parent = undefined;\r\n    }\r\n  }\r\n  //\u505C\u6B62effect\r\n  stop() {\r\n    //\u5982\u679C\u72B6\u6001\u662F\u6D3B\u52A8\u7684 \u5C31\u6539\u4E3A\u5931\u6D3B \u540C\u65F6\u6E05\u7A7A\u6240\u6709\u7684\u4F9D\u8D56\r\n    if (this.active) {\r\n      clearUpEffect(this);\r\n      this.active = false;\r\n      console.log(\"\u6E05\u9664\u662F\u6709\u7684\");\r\n    }\r\n  }\r\n}\r\n//\u4F9D\u8D56\u6536\u96C6 \u5C31\u662F\u5F53\u524D\u7684effect\u53D8\u6210\u5168\u5C40\u7684 \u7A0D\u540E\u53D6\u503C\u7684\u65F6\u5019\u53EF\u4EE5\u62FF\u5230\u8FD9\u4E2A\u5168\u5C40\u7684effect\r\nexport function effect(fn, opention: any = {}) {\r\n  const _effect = new ReactiveEffect(fn, opention.scheduler);\r\n  _effect.run(); //\u9ED8\u8BA4\u8BA9\u54CD\u5E94\u5F0F\u7684\u8D70\u4E00\u904D\r\n\r\n  const runner = _effect.run.bind(_effect); //\u4FDD\u8BC1runner\u88AB\u8C03\u53D6\u7684\u65F6\u5019 this\u7684\u6307\u5411\u4E0D\u4F1A\u4E22\u5931\r\n  runner.effect = _effect;\r\n  return runner;\r\n}\r\n\r\n/* let targetMap={\r\n    depsMap:{\r\n        key:[activeEffect,activeEffect]\r\n   }\r\n}*/\r\nconst targetMap = new WeakMap();\r\nexport function track(target, key) {\r\n  if (!activeEffect) {\r\n    //\u53D6\u503C\u64CD\u4F5C\u4E2D \u5E76\u672A\u5728effect\u4E2D \u5C31\u4E0D\u9700\u8981\u8FDB\u884C\u6536\u96C6\r\n    return;\r\n  }\r\n  let depsMap = targetMap.get(target);\r\n  if (!depsMap) {\r\n    //\u5E76\u672A\u5B58\u50A8\u8FC7 \u6240\u4EE5\u8981\u5B58\u50A8\u4E0B\r\n    //WeakMap \u53EA\u80FD\u662F\u5BF9\u8C61 \u4F46\u662F\u6211\u5148\u8981\u50A8\u5B58key  key\u662F\u5B57\u7B26\u4E32\r\n    targetMap.set(target, (depsMap = new Map()));\r\n  }\r\n\r\n  let dep = depsMap.get(key);\r\n  if (!dep) {\r\n    depsMap.set(key, (dep = new Set()));\r\n  }\r\n  trackEffect(dep);\r\n}\r\nexport function trackEffect(dep) {\r\n  //\u662F\u5426\u9700\u8981\u8FDB\u884C\u6536\u96C6\r\n  let shouldTrack = !dep.has(activeEffect);\r\n  if (shouldTrack) {\r\n    //\u5C06\u5BF9\u5E94\u7684effect\u6536\u96C6\u8D77\u6765\r\n    dep.add(activeEffect);\r\n    //activeEffect\u4E5F\u5C06\u5BF9\u5E94\u7684dep\u6536\u96C6\u8D77\u6765\uFF0C\u4E5F\u5C31\u662Fkey\u503C\u5BF9\u5E94\u7684effect\u7684\u65B9\u6CD5\r\n    activeEffect.deps.push(dep); //\u540E\u7EED\u9700\u8981\u901A\u8FC7effect\u6765\u6E05\u7406\u7684\u65F6\u5019\u53EF\u4EE5\u53BB\u4F7F\u7528\r\n    //\u4E00\u4E2A\u5C5E\u6027\u5BF9\u5E94\u591A\u4E2Aeffect  \u4E00\u4E2Aeffect\u5BF9\u5E94\u591A\u4E2A\u5C5E\u6027\r\n    //\u5C5E\u6027\u4E0Eeffect\u662F\u591A\u5BF9\u591A\u7684\u5173\u7CFB\r\n  }\r\n}\r\n// let activeEffect;\r\n// effect(() => { //e1  el.parent = null\r\n//   name;\r\n//   effect(() => {//e2  el.parent = e1\r\n//     age;\r\n//   });//e2  activeEffect = e2.parent\r\n//   address\r\n// });\r\n\r\nexport function trigger(target, key, newValue, oldValue) {\r\n  // waakMap:(obj:map(key:set(effect)))\r\n  //\u83B7\u53D6target\u7684map\r\n  const depMap = targetMap.get(target);\r\n  if (!depMap) return;\r\n  //\u83B7\u53D6target\u7684\u4E2Dkey\u7684\u96C6\u5408\r\n  const dep = depMap.get(key);\r\n  triggerEffect(dep);\r\n}\r\n//\u89E6\u53D1\u76F8\u5E94\r\nexport function triggerEffect(dep) {\r\n  if (dep) {\r\n    //\u9632\u6B62\u51FA\u73B0 //\u89E3\u91CA1\r\n    const effects = [...dep];\r\n    effects.forEach((effect) => {\r\n      //\u5F53\u6267\u884C\u65F6 \u5C06effect\u65B9\u5168\u5C40\u4E0A \u4E0B\u9762\u662F\u4E3A\u4E86\u5904\u7406\u6389 effect()\u4E2D\u6267\u884C\u7684\u65B9\u6CD5\uFF0C\u6709\u6539\u53D8\u91CF\u7684\u503C\u3002\u800C\u8FD9\u4E2A\u503C\u540C\u65F6\u53C8\u6536\u96C6\u4E86\u8FD9\u4E2A\u4F9D\u8D56\r\n      //\u4F8B\u5B50\r\n      // let data = reactive({name:haha,age:18})\r\n      // effect(()=>{\r\n      // data.name = guagua //\u89E6\u53D1\u6536\u96C6\u7684effect\u7684\u4F9D\u8D56 \u8FD0\u884C\r\n      // app.inntrtHTML = data.name \u89E6\u53D1effect\u7684\u4F9D\u8D56\u6536\u96C6 \u672C\u53E5\u4E0E\u4E0A\u53E5\u8FDB\u884C\u5165\u4E86\u6B7B\u5FAA\u73AF\r\n      // })\r\n      if (activeEffect != effect) {\r\n        if (!effect.scheduler) {\r\n          effect.run(); //\u90FD\u4F1A\u91CD\u65B0\u4F9D\u8D56\u6536\u96C6\r\n        } else {\r\n          effect.scheduler();\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n//\u89E3\u91CA1\r\n//\u9ED8\u8BA4\u6267\u884C\u4E86\u4E00\u4E2Aset\u3002\u5728\u5F53\u524D\u7684set\u4E2D\u6E05\u7A7A\u4E86\u67D0\u4E00\u4E2Aeffect\uFF0C\u53C8\u5411set\u4E2D\u6DFB\u52A0\u4E86\u4E00\u9879  \u4F8B\u5B50\u5982\u4E0B\r\n//\u4F7F\u7528\u4E86\u540C\u4E00\u4E2A\u5730\u5740\r\n// let s = new Set([\"a\"]);\r\n// s.forEach((item) => {\r\n//   s.delete(item);\r\n//   s.add(item);\r\n// });\r\n", "export function isObject(value) {\r\n  return value !== null && typeof value === \"object\";\r\n}\r\n\r\nexport function isFunticon(value) {\r\n  return typeof value === \"function\";\r\n}\r\n", "import { isObject } from \"@vue/shared\";\r\nimport { activeEffect, track, trigger } from \"./effect\";\r\nimport { reactive, ReactiveFlags } from \"./reactive\";\r\n\r\nexport const mutableHandlers = {\r\n  //\u7528\u6237\u53D6\u503C\u64CD\u4F5C\r\n  get(target, key, receiver) {\r\n    //\u68C0\u67E5\u662F\u4E0D\u662Freactive\u8FC7\u7684\u5BF9\u8C61\u662F\u4E0D\u662F\u53C8\u88AB\u5957\u4E86\u4E00\u5C42reactive\r\n    if (ReactiveFlags.IS_REACTIVE == key) {\r\n      return true;\r\n    }\r\n    //\u5C06\u4F9D\u8D56\u8FDB\u884C\u6536\u96C6 \u4E3Aeffect\u800C\u505A\u7684\r\n    track(target, key);\r\n\r\n    let r = Reflect.get(target, key, receiver); //\u5904\u7406this\u7684\u6307\u5411\r\n    //\u68C0\u6D4B\u5F53\u524D\u662F\u4E0D\u662Fobj \u662F\u7684\u8BDD\uFF0C\u9700\u8981\u518D\u8FDB\u884C\u4E00\u904D\u4EE3\u7406 \u6DF1\u4EE3\u7406 \u53EA\u6709\u88AB\u8BFB\u53D6\u7684\u65F6\u5019\u624D\u4F1A\u8FDB\u884C\u5BF9\u5E94\u7684\u6DF1\u4EE3\u7406\r\n    if (isObject(r)) {\r\n      return reactive(r);\r\n    }\r\n\r\n    return r;\r\n  },\r\n  //\u7528\u6237\u590D\u5236\u64CD\u4F5C\r\n  set(target, key, value, receiver) {\r\n    //\u8001\u503C\r\n    const oldValue = target[key];\r\n    const t = Reflect.set(target, key, value, receiver);\r\n    //\u8001\u503C\u4E0E\u65B0\u503C\u8FDB\u884C\u5BF9\u6BD4\r\n    if (oldValue !== value) {\r\n      trigger(target, key, value, oldValue);\r\n    }\r\n    return t; //\u5904\u7406this\u7684\u6307\u5411\r\n  },\r\n};\r\n", "import { isObject } from \"@vue/shared\";\r\nimport { mutableHandlers } from \"./baseHandler\";\r\n\r\nexport const enum ReactiveFlags {\r\n  IS_REACTIVE = \"__V_isReactive\",\r\n}\r\nexport function isReacitve(target) {\r\n  return !!(target && target[ReactiveFlags.IS_REACTIVE]);\r\n}\r\nconst reactiveMap = new Map();\r\nexport function reactive(target) {\r\n  //\u4E0D\u662F\u5BF9\u8C61\u5C31\u8FD4\u56DE\r\n  if (!isObject(target)) return target;\r\n  //\u68C0\u67E5\u662F\u4E0D\u662Freactive\u8FC7\u7684\u5BF9\u8C61\u662F\u4E0D\u662F\u53C8\u88AB\u5957\u4E86\u4E00\u5C42reactive\r\n  if (target[ReactiveFlags.IS_REACTIVE]) {\r\n    return target;\r\n  }\r\n  //\u68C0\u67E5\u77E5\u662F\u4E0D\u662F\u5B58\u5728\u4E4B\u524D\u7684\u4EE3\u7406\u5BF9\u8C61\r\n  const exisitsProxy = reactiveMap.get(target);\r\n  if (exisitsProxy) return exisitsProxy;\r\n  //\u4EE3\u7406\r\n  const proxy = new Proxy(target, mutableHandlers);\r\n  //\u7F13\u5B58\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61 \u4E0B\u6B21\u518D\u884C\u4EE3\u7406\u7684\u65F6\u5019\u76F4\u63A5\u62FF\u51FA\u6765\u4F7F\u7528\r\n  reactiveMap.set(target, proxy);\r\n  return proxy;\r\n}\r\n", "import { isFunticon } from \"@vue/shared\";\r\nimport {\r\n  activeEffect,\r\n  ReactiveEffect,\r\n  trackEffect,\r\n  triggerEffect,\r\n} from \"./effect\";\r\n\r\nconst noop = () => {};\r\n\r\nclass ComputedRefImpl {\r\n  public dep;\r\n  public effect = undefined;\r\n  public __v_isRef = true; //\u6709\u8FD9\u4E2A\u5B57\u6BB5\u7684\u8BDD \u5C31\u8BC1\u660E\u4E00\u5B9A\u8981\u4F7F\u7528  .value\u6765\u53D6\u503C\r\n  public _diry = true; //\u662F\u4E0D\u662F\u810F\u503C\r\n  public _value = \"\"; //\u7F13\u5B58\u7684\u503C\r\n  public getter;\r\n  public setter;\r\n  constructor(getter, setter) {\r\n    this.getter = getter; \r\n    this.setter = setter;\r\n    this.effect = new ReactiveEffect(getter, () => {\r\n      //\u4F7F\u7528\u8C03\u53D6\u51FD\u6570\u5904\u7406 \u81EA\u5B9A\u4E49\u5982\u679C\u6536\u96C6\u7684\u4F9D\u8D56\u53D1\u751F\u4E86\u53D8\u5316 \u542F\u7528\u81EA\u5B9A\u4E49\u51FD\u6570\r\n      this._diry = true;\r\n      //\u89E6\u53D1\u6536\u96C6\u7684effect\u7684\u4F9D\u8D56\r\n      triggerEffect(this.dep);\r\n    });\r\n  }\r\n  // class \u7684\u5C5E\u6027\u8BBF\u95EE\u5668   Object.defineProperty(\u5B9E\u4F8B,value,{get})\r\n  get value() {\r\n    if (activeEffect) {\r\n      //\u5982\u679C\u5B58\u5728\u8FD9\u4E2A\u503C\u8BF4\u660E \u8BA1\u7B97\u5C5E\u6027\u5728effect\u51FD\u6570\u4E2D\u88AB\u4F7F\u7528\r\n      //\u9700\u8981\u8BA9\u8BA1\u7B97\u5C5E\u6027\u8FDB\u884C\u4E86\u6536\u96C6\u8FD9\u4E2Aeffect\r\n      //\u7528\u6237\u53D6\u503C\u53D1\u751F\u4F9D\u8D56\u6536\u96C6\r\n      trackEffect(this.dep || (this.dep = new Set()));\r\n    }\r\n\r\n    if (this._diry) {\r\n      //\u53D6\u503C\u624D\u6267\u884C\uFF0C\u5E76\u4E14\u628A\u503C\u5B58\u50A8\u8D77\u6765\r\n      this._value = this.effect.run();\r\n      this._diry = false; //\u610F\u5473\u7740\u662F\u810F\u4E86\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  set value(newValue) {\r\n    this.setter(newValue);\r\n  }\r\n}\r\n\r\nexport function computed(getterOrOpentions) {\r\n  let onlayGetter = isFunticon(getterOrOpentions);\r\n\r\n  let getter;\r\n  let setter;\r\n  //\u65B9\u6CD5 \u6216\u8005\u662F \u5BF9\u8C61\r\n  if (onlayGetter) {\r\n    getter = getterOrOpentions;\r\n    setter = noop;\r\n  } else {\r\n    getter = getterOrOpentions.get;\r\n    setter = getterOrOpentions.set || noop;\r\n  }\r\n\r\n  //getter = \u65B9\u6CD5\u5FC5\u987B\u5B58\u5728\r\n  return new ComputedRefImpl(getter, setter);\r\n}\r\n", "import { isFunticon, isObject } from \"@vue/shared\";\r\nimport { ReactiveEffect } from \"./effect\";\r\nimport { isReacitve } from \"./reactive\";\r\n\r\nfunction traverse(source, set = new Set()) {\r\n  if (!isObject(source)) {\r\n    return source;\r\n  }\r\n  if (set.has(source)) {\r\n    return source;\r\n  }\r\n  set.add(source);\r\n  //\u8003\u8651\u5FAA\u73AF\u5F15\u7528\u7684\u95EE\u9898 \u91C7\u7528set \u6765\u89E3\u51B3\u6B64\u95EE\u9898\r\n  for (const key in source) {\r\n    traverse(source[key], set); //\u9012\u5F52\u53D6\u503C  \u53D6\u503C\u5C31\u80FD\u8FDB\u884C\u624B\u673A\u4F9D\u8D56\r\n  }\r\n  return source;\r\n}\r\n\r\nfunction doWatch(source, cd, options: any) {\r\n  let getter;\r\n  if (isReacitve(source)) {\r\n    //\u6700\u7EC8\u90FD\u5904\u7406\u6210\u4E3A\u51FD\u6570\r\n    getter = () => traverse(source); //\u76F4\u63A5\u8C03\u7528run\u7684\u65F6\u5019\uFF0C\u76F4\u63A5\u6267\u884C\u51FD\u6570 \u8FD4\u56DE\u6B64\u51FD\u6570\u7684\u5BF9\u8C61 \u53EA\u6709\u8BBF\u95EE\u5C5E\u6027 \u624D\u80FD\u4F9D\u8D56\u6536\u96C6\r\n  } else if (isFunticon(source)) {\r\n    getter = source;\r\n  }\r\n  let oldValue;\r\n  let cleanup;\r\n  const onCleanup = (userCd) => {\r\n    cleanup = userCd;\r\n  };\r\n  //\u5185\u90E8\u8C03\u7528cd\r\n  const job = () => {\r\n    if (cd) {\r\n      //watch api\r\n      let newValue = effect.run(); //\u518D\u6B21\u8C03\u7528effect \u6B64\u65F6\u8C03\u7528\u56DE\u8C03\r\n      if (cleanup) cleanup(); //\u5148\u628A\u4E4B\u524D\u7684\u56DE\u8C03\u65B9\u6CD5\u6267\u884C\u4E00\u4E0B\r\n      if (cd) cd(newValue, oldValue, onCleanup); //\u5904\u7406\u56DE\u8C03\r\n      oldValue = newValue;\r\n    } else {\r\n      //watchEffect api\r\n      effect.run();\r\n    }\r\n  };\r\n  const effect = new ReactiveEffect(getter, job);\r\n  //\u5982\u679C\u5B58\u5728\u7ACB\u5373\u6267\u884C\u6307\u4EE4 \u5C31\u8C03\u53D6\u65B9\u6CD5\uFF0C\u8FDB\u884C\u6267\u884C\r\n  if (options?.immediate) {\r\n    return job();\r\n  }\r\n  oldValue = effect.run(); //\u4FDD\u7559\u8001\u503C\r\n}\r\n//watch \u672C\u8EAB\u5C31\u662Feffect + \u81EA\u5B9A\u4E49scheduler\r\n//watchEffect \u662F\u5C45\u4E8Eeffect\u7684\u5C01\u88C5 \u66F4\u65B9\u4FBF \u4E0D\u9700\u8981\u5199\u4F9D\u8D56\u6570\u8868\r\n//\u6709\u4E86watchEffect\u5C31\u4E0D\u9700\u8981\u5199\u4F9D\u8D56\u6570\u636E\u4E86\r\nexport function watch(source, cd, options: any) {\r\n  doWatch(source, cd, options);\r\n}\r\nexport function watchEffect(effect, cd, options: any) {\r\n  doWatch(effect, null, options);\r\n}\r\n", "import { isObject } from \"@vue/shared\";\r\nimport { activeEffect, trackEffect, triggerEffect } from \"./effect\";\r\nimport { reactive } from \"./reactive\";\r\n\r\nexport function ref(value) {\r\n  return new RefImpl(value);\r\n}\r\n\r\nfunction toReactive(value) {\r\n  return isObject(value) ? reactive(value) : value;\r\n}\r\nclass RefImpl {\r\n  public dep = undefined;\r\n  public _value;\r\n  public _v_isRef = true;\r\n  constructor(public rawValue) {\r\n    this._value = toReactive(rawValue);\r\n  }\r\n\r\n  get value() {\r\n    //\u4F9D\u8D56\u6536\u96C6\r\n    if (activeEffect) {\r\n      trackEffect(this.dep || (this.dep = new Set()));\r\n    }\r\n    return this._value;\r\n  }\r\n  set value(newValue) {\r\n    if (newValue != this._value) {\r\n      //\u66F4\u65B0\r\n      this._value = toReactive(newValue);\r\n      this.rawValue = newValue;\r\n      //\u89E6\u53D1\u4F9D\u8D56\u66F4\u65B0\r\n      triggerEffect(this.dep);\r\n    }\r\n  }\r\n}\r\n"],
  "mappings": "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",
  "names": ["effect", "ReactiveFlags", "effect"]
}
